import{E as l,G as n,H as s,A as r,I as g,_ as V,J as u,M as m,Z as p}from"./index-CrBq_UzM.js";import{_ as w,i as _}from"./VContainer-Bd8Dxbcf.js";import{a as h,V as y}from"./VRow-BS03yX6S.js";import{V as M,c as C,a as k,b as x}from"./VCard-DFEzo_lP.js";import{V as S,a as c}from"./VForm-DSaG_7mw.js";import{V as f}from"./VTextField-DWI3MSZh.js";import{V as b}from"./VSpacer-Cj_HJSnj.js";import{V as T}from"./index-iYrz7fL7.js";const N={data(){return{username:"",password:"",errorMessage:"",successMessage:""}},methods:{async register(){this.errorMessage="",this.successMessage="";try{const e=await fetch("undefined/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})});if(e.ok){const t=await e.json();this.successMessage=t.message,this.$router.push("/login")}else{const t=await e.json();this.errorMessage=t.message}}catch(o){console.error("Error registering:",o),this.errorMessage="Something went wrong, please try again."}}}};function U(o,e,t,j,a,d){return l(),n(_,{class:"fill-height",fluid:""},{default:s(()=>[r(y,{align:"center",justify:"center"},{default:s(()=>[r(h,{cols:"12",sm:"8",md:"4"},{default:s(()=>[r(M,null,{default:s(()=>[r(C,null,{default:s(()=>e[2]||(e[2]=[g("span",{class:"headline"},"Register",-1)])),_:1}),r(k,null,{default:s(()=>[r(S,{onSubmit:V(d.register,["prevent"])},{default:s(()=>[r(f,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=i=>a.username=i),label:"Username",required:""},null,8,["modelValue"]),r(f,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=i=>a.password=i),label:"Password",type:"password",required:""},null,8,["modelValue"]),a.errorMessage?(l(),n(c,{key:0,type:"error"},{default:s(()=>[u(m(a.errorMessage),1)]),_:1})):p("",!0),a.successMessage?(l(),n(c,{key:1,type:"success"},{default:s(()=>[u(m(a.successMessage),1)]),_:1})):p("",!0)]),_:1},8,["onSubmit"])]),_:1}),r(x,null,{default:s(()=>[r(b),r(T,{color:"primary",onClick:d.register},{default:s(()=>e[3]||(e[3]=[u("Register")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const I=w(N,[["render",U],["__scopeId","data-v-1643eaed"]]);export{I as default};
