import{a as P}from"./VSelectionControl-BIfPhiGl.js";import{_ as V,i as f}from"./VContainer-Bd8Dxbcf.js";import{V as _,a as b}from"./VRow-BS03yX6S.js";import{V as q,c as C,a as g}from"./VCard-DFEzo_lP.js";import{V as x,a as d}from"./VForm-DSaG_7mw.js";import{V as u}from"./VTextField-DWI3MSZh.js";import{V as A}from"./VSwitch-w7sejuzM.js";import{V as U}from"./index-iYrz7fL7.js";import{E as n,G as i,H as s,A as o,I as k,J as a,M as p,Z as c}from"./index-CrBq_UzM.js";const v=void 0,S={data(){return{valid:!1,post:{title:"",productDescription:"",price:"",amountPerPrice:"",unitAmount:"",onSale:!1},rules:{required:t=>!!t||"Required.",number:t=>!isNaN(t)||"Must be a number."},success:"",error:""}},methods:{async submitForm(){if(this.$refs.form.validate()){const t=localStorage.getItem("token");try{const r=await P.post(`${v}/api/post/create_post`,this.post,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});this.success="Post created successfully!",this.error="",console.log(r.data)}catch(r){this.error=r.response?r.response.data.message:"An error occurred",this.success="",console.error(r)}}}}};function N(t,r,m,w,e,y){return n(),i(f,null,{default:s(()=>[o(_,{justify:"center"},{default:s(()=>[o(b,{cols:"12",md:"10"},{default:s(()=>[o(q,{class:"elevation-12"},{default:s(()=>[o(C,null,{default:s(()=>r[7]||(r[7]=[k("span",{class:"headline"},"Post Listing",-1)])),_:1}),o(g,null,{default:s(()=>[o(x,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":r[6]||(r[6]=l=>e.valid=l),"lazy-validation":""},{default:s(()=>[o(u,{modelValue:e.post.title,"onUpdate:modelValue":r[0]||(r[0]=l=>e.post.title=l),rules:[e.rules.required],label:"Title",required:""},null,8,["modelValue","rules"]),o(u,{modelValue:e.post.productDescription,"onUpdate:modelValue":r[1]||(r[1]=l=>e.post.productDescription=l),rules:[e.rules.required],label:"Product Description",required:""},null,8,["modelValue","rules"]),o(u,{modelValue:e.post.price,"onUpdate:modelValue":r[2]||(r[2]=l=>e.post.price=l),rules:[e.rules.required,e.rules.number],label:"Price",required:""},null,8,["modelValue","rules"]),o(u,{modelValue:e.post.amountPerPrice,"onUpdate:modelValue":r[3]||(r[3]=l=>e.post.amountPerPrice=l),rules:[e.rules.required,e.rules.number],label:"Amount Per Price",required:""},null,8,["modelValue","rules"]),o(u,{modelValue:e.post.unitAmount,"onUpdate:modelValue":r[4]||(r[4]=l=>e.post.unitAmount=l),rules:[e.rules.required,e.rules.number],label:"Unit Amount",required:""},null,8,["modelValue","rules"]),o(A,{modelValue:e.post.onSale,"onUpdate:modelValue":r[5]||(r[5]=l=>e.post.onSale=l),label:"On Sale"},null,8,["modelValue"]),o(U,{disabled:!e.valid,color:"primary",onClick:y.submitForm},{default:s(()=>r[8]||(r[8]=[a(" Create Post ")])),_:1},8,["disabled","onClick"]),e.error?(n(),i(d,{key:0,type:"error"},{default:s(()=>[a(p(e.error),1)]),_:1})):c("",!0),e.success?(n(),i(d,{key:1,type:"success"},{default:s(()=>[a(p(e.success),1)]),_:1})):c("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const T=V(S,[["render",N]]),B={};function D(t,r){const m=T;return n(),i(f,null,{default:s(()=>[o(_,{justify:"center"},{default:s(()=>[o(b,{cols:"12",md:"8"},{default:s(()=>[o(m)]),_:1})]),_:1})]),_:1})}const H=V(B,[["render",D],["__scopeId","data-v-58eb413a"]]);export{H as default};
