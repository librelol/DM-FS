import{E as i,G as d,H as o,A as r,I as p,_ as f,J as u,M as V,Z as g}from"./index-CrBq_UzM.js";import{_ as c,i as w}from"./VContainer-Bd8Dxbcf.js";import{a as _,V as h}from"./VRow-BS03yX6S.js";import{V as y,c as C,a as b,b as k}from"./VCard-DFEzo_lP.js";import{V as M,a as S}from"./VForm-DSaG_7mw.js";import{V as m}from"./VTextField-DWI3MSZh.js";import{V as x}from"./VSpacer-Cj_HJSnj.js";import{V as T}from"./index-iYrz7fL7.js";const N={data(){return{username:"",password:"",errorMessage:""}},methods:{async login(){this.errorMessage="";try{const e=await fetch("undefined/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})});if(e.ok){const a=await e.json();localStorage.setItem("token",a.token),this.$router.push("/dashboard")}else{const a=await e.json();this.errorMessage=a.message}}catch(t){console.error("Error logging in:",t),this.errorMessage="Something went wrong, please try again."}}}};function U(t,e,a,j,s,n){return i(),d(w,{class:"fill-height",fluid:""},{default:o(()=>[r(h,{align:"center",justify:"center"},{default:o(()=>[r(_,{cols:"12",sm:"8",md:"4"},{default:o(()=>[r(y,null,{default:o(()=>[r(C,null,{default:o(()=>e[2]||(e[2]=[p("span",{class:"headline"},"Login",-1)])),_:1}),r(b,null,{default:o(()=>[r(M,{onSubmit:f(n.login,["prevent"])},{default:o(()=>[r(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l),label:"Username",required:""},null,8,["modelValue"]),r(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),label:"Password",type:"password",required:""},null,8,["modelValue"]),s.errorMessage?(i(),d(S,{key:0,type:"error"},{default:o(()=>[u(V(s.errorMessage),1)]),_:1})):g("",!0)]),_:1},8,["onSubmit"])]),_:1}),r(k,null,{default:o(()=>[r(x),r(T,{color:"primary",onClick:n.login},{default:o(()=>e[3]||(e[3]=[u("Login")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const J=c(N,[["render",U],["__scopeId","data-v-b9327827"]]);export{J as default};
